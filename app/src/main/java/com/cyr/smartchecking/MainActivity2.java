package com.cyr.smartchecking;import android.os.Bundle;import android.view.Menu;import android.view.MenuItem;import android.view.View;import android.widget.CheckBox;import android.widget.TextView;import androidx.annotation.NonNull;import androidx.appcompat.app.AppCompatActivity;import androidx.appcompat.widget.Toolbar;import androidx.recyclerview.widget.LinearLayoutManager;import androidx.recyclerview.widget.RecyclerView;import java.util.ArrayList;public class MainActivity2 extends AppCompatActivity implements View.OnClickListener {  ArrayList<Person> personList ;  ArrayList<Person> selectionList ;  private Toolbar toolbar;  private RecyclerView recyclerView;  MyAdapter2 adapter;  boolean isContexualModeEnabled=false;  TextView itemCounter;  int counter = 0;  @Override  protected void onCreate(Bundle savedInstanceState) {    super.onCreate(savedInstanceState);    setContentView(R.layout.activity_main2);    toolbar=findViewById(R.id.toolBar);    setSupportActionBar(toolbar);    itemCounter=findViewById(R.id.itemCounter);    personList = new ArrayList<>();    selectionList = new ArrayList<>();    personList.add(new Person("Pierre", "Etudiant", "Manuel", "Visite", "CNI", "9h", "19h", R.drawable.user_profile, "1", "CERCO"));    personList.add(new Person("John", "Student", "Manual", "Visit", "ID1", "8h", "18h", R.drawable.user_profile, "1", "CERCO"));    personList.add(new Person("Alice", "Employee", "Auto", "Meeting", "ID2", "10h", "20h", R.drawable.user_profile, "2", "ABC Company"));    personList.add(new Person("Bob", "Visitor", "Manual", "Appointment", "ID3", "11h", "21h", R.drawable.user_profile, "1", "XYZ Organization"));    personList.add(new Person("Eva", "Student", "Auto", "Research", "ID4", "9h", "17h", R.drawable.user_profile, "1", "University"));    personList.add(new Person("Mike", "Employee", "Auto", "Conference", "ID5", "8h", "16h", R.drawable.user_profile, "2", "Tech Corp"));    personList.add(new Person("Sophie", "Visitor", "Manual", "Event", "ID6", "10h", "22h", R.drawable.user_profile, "1", "Event Planner"));    personList.add(new Person("Chris", "Student", "Auto", "Study", "ID7", "9h", "18h", R.drawable.user_profile, "1", "College"));    personList.add(new Person("Emma", "Employee", "Manual", "Training", "ID8", "8h", "17h", R.drawable.user_profile, "2", "Training Institute"));    personList.add(new Person("Alex", "Visitor", "Auto", "Tour", "ID9", "11h", "20h", R.drawable.user_profile, "1", "Tourism Agency"));    personList.add(new Person("Grace", "Student", "Manual", "Project", "ID10", "10h", "19h", R.drawable.user_profile, "1", "Project Group"));    recyclerView = findViewById(R.id.recycler2);    adapter = new MyAdapter2(personList,MainActivity2.this);    recyclerView.setLayoutManager(new LinearLayoutManager(this));    recyclerView.setAdapter(adapter);  }  @Override  public boolean onCreateOptionsMenu(Menu menu) {    getMenuInflater().inflate(R.menu.menu_selection, menu);    return true;  }  @Override  public void onClick(View v) {    isContexualModeEnabled=true;    toolbar.getMenu().clear();    toolbar.inflateMenu(R.menu.contexual_menu);    RemoveContextualActionMode();    adapter.notifyDataSetChanged();  }  public void MakeSelection(View v, int adapterPosition) {    if (((CheckBox)v).isChecked()){      selectionList.add(personList.get(adapterPosition));      counter++;      UpdateCounter();    }    else {      selectionList.remove(personList.get(adapterPosition));      counter--;      UpdateCounter();    }    toolbar.inflateMenu(R.menu.contexual_menu);  }  public void  UpdateCounter()  {    itemCounter.setText(counter+" selection");  }  @Override  public boolean onOptionsItemSelected(@NonNull MenuItem item) {    if (item.getItemId()==R.id.delete){       adapter.RemoveItem(selectionList);       RemoveContextualActionMode();    }    return true;  }  private void RemoveContextualActionMode() {    isContexualModeEnabled=false;    toolbar.getMenu().clear();    toolbar.inflateMenu(R.menu.contexual_menu);    counter=0;    selectionList.clear();    adapter.notifyDataSetChanged();  }}